<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>リンク一覧</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f8f9fa;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    ul {
      list-style: none;
      padding: 0;
      margin-top: 30px;
    }
    li {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 30px;
      padding: 20px;
    }
    .link-row {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 15px;
    }
    a.main-link {
      color: #007bff;
      font-weight: bold;
      text-decoration: none;
      font-size: 20px;
      flex-grow: 1;
      word-break: break-word;
    }
    a.main-link:hover {
      text-decoration: underline;
      color: #0056b3;
    }
    .qrcode {
      width: 80px;
      height: 80px;
    }
    .description {
      font-size: 16px;
      color: #555;
      margin-bottom: 15px;
      padding-left: 5px;
      white-space: pre-wrap;
    }
    .share {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    button, .share a {
      cursor: pointer;
      text-decoration: none;
      color: #fff;
      font-weight: bold;
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border: none;
      transition: background-color 0.3s;
      user-select: none;
    }
    button.copy-btn {
      background-color: #4caf50;
    }
    button.copy-btn:hover {
      background-color: #3b8e3a;
    }
    button.share-btn {
      background-color: #007bff;
    }
    button.share-btn:hover {
      background-color: #0056b3;
    }
    .icon {
      width: 16px;
      height: 16px;
      fill: white;
    }
    .message {
      margin-left: 10px;
      font-size: 14px;
      color: #4caf50;
      font-weight: bold;
      user-select: none;
    }
  </style>
</head>
<body>
  <h1>ゲームに関するリンク</h1>
  <ul id="link-list">
    <li>
      <div class="link-row">
        <a href="https://kaziki-jp.github.io/Game-apple/about.html" target="_blank" rel="noopener noreferrer" class="main-link">https://kaziki-jp.github.io/Game-apple/about.html</a>
        <div class="qrcode" id="qrcode1"></div>
      </div>
      <div class="description" id="desc1">「りんごを取れ」ゲームについての説明</div>
      <div class="share">
        <button class="copy-btn" data-index="1" aria-label="リンクと説明文をコピー">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          コピー
        </button>
        <button class="share-btn" data-index="1" aria-label="共有シートを開く">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.253 3.253 0 0 0 0-1.39l7.05-4.11A2.99 2.99 0 1 0 15 7c0 .22.03.43.08.63L8.03 11.73a3 3 0 1 0 0 4.54l7.06 4.12c.54.31 1.2.48 1.91.48a3 3 0 1 0-1.91-5.69z"/></svg>
          共有
        </button>
        <span class="message" id="msg1"></span>
      </div>
    </li>
    <li>
      <div class="link-row">
        <a href="https://kaziki-jp.github.io/Game-apple" target="_blank" rel="noopener noreferrer" class="main-link">https://kaziki-jp.github.io/Game-apple</a>
        <div class="qrcode" id="qrcode2"></div>
      </div>
      <div class="description" id="desc2">「りんごを取れ」ゲームのサイト</div>
      <div class="share">
        <button class="copy-btn" data-index="2" aria-label="リンクと説明文をコピー">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          コピー
        </button>
        <button class="share-btn" data-index="2" aria-label="共有シートを開く">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.253 3.253 0 0 0 0-1.39l7.05-4.11A2.99 2.99 0 1 0 15 7c0 .22.03.43.08.63L8.03 11.73a3 3 0 1 0 0 4.54l7.06 4.12c.54.31 1.2.48 1.91.48a3 3 0 1 0-1.91-5.69z"/></svg>
          共有
        </button>
        <span class="message" id="msg2"></span>
      </div>
    </li>
    <li>
      <div class="link-row">
        <a href="https://github.com/KaziKi-JP/Game-apple" target="_blank" rel="noopener noreferrer" class="main-link">https://github.com/KaziKi-JP/Game-apple</a>
        <div class="qrcode" id="qrcode3"></div>
      </div>
      <div class="description" id="desc3">GitHubのリポジトリページ</div>
      <div class="share">
        <button class="copy-btn" data-index="3" aria-label="リンクと説明文をコピー">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          コピー
        </button>
        <button class="share-btn" data-index="3" aria-label="共有シートを開く">
          <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.253 3.253 0 0 0 0-1.39l7.05-4.11A2.99 2.99 0 1 0 15 7c0 .22.03.43.08.63L8.03 11.73a3 3 0 1 0 0 4.54l7.06 4.12c.54.31 1.2.48 1.91.48a3 3 0 1 0-1.91-5.69z"/></svg>
          共有
        </button>
        <span class="message" id="msg3"></span>
      </div>
    </li>
  </ul>

  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <script>
    const links = [
      "https://kaziki-jp.github.io/Game-apple/about.html",
      "https://kaziki-jp.github.io/Game-apple",
      "https://github.com/KaziKi-JP/Game-apple"
    ];
    const descriptions = [
      "「りんごを取れ」ゲームについての説明",
      "「りんごを取れ」ゲームのサイト",
      "GitHubのリポジトリページ"
    ];

    links.forEach((url, i) => {
      new QRCode(document.getElementById(`qrcode${i+1}`), {
        text: url,
        width: 80,
        height: 80,
        colorDark : "#000000",
        colorLight : "#ffffff",
      });
    });

    const copyButtons = document.querySelectorAll('button.copy-btn');
    copyButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const index = Number(btn.getAttribute('data-index')) - 1;
        const textToCopy = `${links[index]}\n${descriptions[index]}`;
        navigator.clipboard.writeText(textToCopy).then(() => {
          const msg = document.getElementById(`msg${index+1}`);
          msg.textContent = "コピーしました！";
          setTimeout(() => { msg.textContent = ""; }, 2000);
        }).catch(() => {
          alert("コピーに失敗しました。");
        });
      });
    });

    const shareButtons = document.querySelectorAll('button.share-btn');
    shareButtons.forEach(btn => {
      btn.addEventListener('click', async () => {
        const index = Number(btn.getAttribute('data-index')) - 1;
        const shareData = {
          title: "リンク",
          text: descriptions[index],
          url: links[index]
        };
        try {
          if (navigator.share) {
            await navigator.share(shareData);
          } else {
            alert("このブラウザは共有機能に対応していません。");
          }
        } catch (err) {
          console.error(err);
        }
      });
    });
  </script>
</body>
</html>
